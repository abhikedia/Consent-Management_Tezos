## About Project
This project is about Consent Management. When we book a flight ticket, our details are sold by the airline or the booking platform and we receive unnecessary emails and texts which also is a violation of our privacy. <br/>
This platform allows users to book their ticket without their information being directly visible to the airline. They do have the option to contact you anonymously(just like uber makes calls or send text without showing driver's number and hiding your's as well).<br/>
When the flight is complete, the user has the option to raise their consent and avoid any future communication from the airline.

## How does it work?
The users data is encrypted and stored in swarm(which is a decentralised storage by ethereum). The id generated by swarm is uploaded to blockchain. <br/>
When the passenger makes the booking, the airline's address is added to the list who have the access to the encrypted data. 
When the airline wants to contact the passenger, say send a message, they have to login to their platform and select the passenger, then on a button's click, firstly the airline's credibility of accessing the information is checked and then passenger's contact is retrieved, decrypted all without making it visible to the airline. <br/>
Once the flight is over, the user can login and revoke airline's access to his data.

## How to run?
<b>Step 1:</b> Clone the repository and move inside the project directory. Make sure you have node and npm installed. <br/>
<b>Step 2:</b> In the project directory, run:

### `sudo npm install`

It Installs all the dependencies. <br/>
<b>Step 3:</b> Set your mysql password as 'password' or set your desired password in file named 'server.js' in line 12.<br/>

#### Follow this link to know how to set mySQL password- https://stackoverflow.com/questions/16556497/how-to-reset-or-change-the-mysql-root-password

<b>Step 4:</b> In a new terminal, run mysql server and create a database named 'ConsentManagement'. Select the database and run the query present in file named 'query.sql'.<br/>

### 'mysql -u root -p'

<b>Step 5:</b> Register yourself on Rapid API platform and select 'travelpayouts-flight-data-v1'. Put your Rapid API key in "x-rapidapi-key" in line 34 in 'from.js' and 'to.js'.<br/>
<b>Step 6:</b> Go to 'airline.js' and put the same API key in "x-rapidapi-key" in line 259.<br/>
<b>Step 7:</b> Register on https://www.travelpayouts.com/ and get an API key. Put the key in "x-access-token" in line 35 in 'from.js' and 'to.js'.<br/>
<b>Step 8:</b> Register on https://www.clicksend.com/ and get another API key. Put the username and key in line 266 and 267 respectively.<br/>
<b>Step 9:</b> In the project directory, start the server by:

### `node server.js`

<b>Step 10:</b> In the project directory, run:

### `sudo npm start`

Runs the app in the development mode.<br />
Open [http://localhost:3000] to view it in the browser.
